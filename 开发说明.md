# File Structures
每个文件夹中应包含如下文件：
* <文件夹\>file：额外文件，例如markdown使用图像等
* file@-filename-：文献
* bib@-filename-.bib：bibtex文件
* comments@-filename-.md：批注
* info@-filename-.json：信息

info file 包含：
* device_import：导入设备
* time_import: 文献导入时间
* version_import: 导入时软件版本
* device_modify：上次修改设备
* time_modify: 上次修改时间
* version_modify: 上次修改时软件版本
* tags：标签
* uuid: 文件识别码
* url: 链接（不为空且该文件没有文档（如pdf）时，可替代文档在线打开）

# Conventions
### Naming:
* snake\_case for object instance
* lowerCamelCase for function and filename
* UpperCamelCase (Pascal case) for class

# Core Structures
## Data system
```dot
digraph DataGraph{
    node [shape=box]
    compound=true
    subgraph FileSys{
        file [shape=ellipse]
        remote [shape=ellipse]
        FileGenerator -> file [style=dotted, label="Generate"]
        FileManipulator -> file [style=dotted, label="Access/Modify"]
        FileManipulatorVirtual -> FileManipulator [dir=none]
    }
    subgraph DataSys{
        DataBase [shape=box3d]
        DataBase -> DataPoint 
        //DataBase -> dict [dir=none]
        DataBase -> DataList [style=dotted, label="Select"]
        DataList -> DataPoint
        //DataList -> list [dir=none]
        DataPoint -> FileManipulatorVirtual
        //DataTags
        //DataList
    }
    subgraph Online{
        edge [color=blue fontcolor=blue]
        FileManipulatorVirtual -> remote [style=normal, label="sync", dir=none]
        DataBase -> remote [dir=back, label="DataPointInfo"]
        DataBase -> DataPoint [label="initialize"]
    }
}
```

## File system
```dot
digraph FileGraph{
    node [shape=box]
    compound=true
    DataBase [shape=box3d]
    "DataBase(Server)" [shape=box3d]
    "DB directory (Remote)" [shape=oval]
    "DB directory (Local)" [shape=oval]
    "TMP_DB directory" [shape=oval]

    subgraph Online{
        Server -> backend -> "DataBase(Server)" -> "DB directory (Remote)"
        DataBase -> "TMP_DB directory" [label="Online", color=blue, fontcolor=blue]
        DataBase -> Server [dir=none, style=dotted, label="communicate", color=blue, fontcolor=blue]
        Server -> "TMP_DB directory"
        "TMP_DB directory" -> Server
        Server -> "frontend (localhost:<port>/main/)"
    }

    subgraph Offline{
        edge [color=red fontcolor=red]
        DataBase -> "DB directory (Local)" [label="Offline"]

    }

    "DB directory (Local)" -> "DB directory (Remote)" [dir=none, style=dotted, label="getConfV('database')"]
}
```


# PyInstaller spec使用

```python
data_path = [
    ("resbibman/conf.json", "./resbibman/"),
    ("resbibman/backend/*.bib", "./backend/"),
    ("resbibman/stylesheets/*", "./resbibman/stylesheets/"),
    ("resbibman/icons/*", "./resbibman/icons/"),
    ("resbibman/docs/*", "./resbibman/docs/")
]

```
...
